(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),l=(n(34),n(7)),i=n(1),u=n(8),m=n(6),s=n(5),d=n.n(s),p=function(e){var t="/project-manager-application";return"/"===e?"".concat(t,"/"):"".concat(t,"/").concat(e,"/")},j={projectNameLabel:"Project name",projectNamePlaceholder:"Project B",noProjects:"No projects",createProject:"Create project",removeProject:"Remove project",removeProjectAriaLabel:"Remove {name} project",errorProjectNameTaken:"Sorry, that project name is already taken."},b=function(e){return j.removeProjectAriaLabel.replace(/\{.*?\}/,e)};function f(e){var t=e.id,n=e.name,a=e.removeProject;return r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement(m.a,{to:p(t)},n)),r.a.createElement("button",{"aria-label":b(n),onClick:function(){return a(n)}},j.removeProject))}var E="projectNameErrorId";function v(e){var t=e.addProject,n=e.validateProject,o=Object(a.useState)(""),c=Object(i.a)(o,2),l=c[0],u=c[1],m=Object(a.useState)(null),s=Object(i.a)(m,2),p=s[0],b=s[1];return r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),l){var a={id:d()(l),name:l},r=n(a);null===r?(t(a),u("")):b(r)}}},r.a.createElement("label",{htmlFor:"projectName"},j.projectNameLabel,r.a.createElement("input",{"aria-describedby":p&&E,"aria-invalid":!!p||null,id:"projectName",type:"text",className:"input",placeholder:j.projectNamePlaceholder,value:l,onChange:function(e){b(null),u(e.target.value)}})),p&&r.a.createElement("p",{style:{color:"magenta"},id:E},p.message),r.a.createElement("button",{type:"submit"},j.createProject))}function y(e){var t=e.projects,n=e.setProjects,a=function(e){return n(t.filter(function(t){return t.name!==e}))};return r.a.createElement("div",null,r.a.createElement("h2",null,"Projects"),0===t.length&&r.a.createElement("p",null,j.noProjects),t.map(function(e){return r.a.createElement(f,Object.assign({},e,{key:e.name,removeProject:a}))}),r.a.createElement(v,{addProject:function(e){return n(Object(u.a)(t).concat([e]))},validateProject:function(e){var n=e.name;return t.find(function(e){return e.name===n})?{message:j.errorProjectNameTaken}:null}}))}var O,g,P,h=n(27),S="PROJECT_SECTION",w="PROJECT_SECTION_NAV",C=n(3),N=n(2),k=n.n(N),I=["imageCollection","prose","motion"],B=["moodBoard","storyBoard","styleFrames"],A=(O={},Object(C.a)(O,"prose","prose"),Object(C.a)(O,"motion","motion"),Object(C.a)(O,"imageCollection",["moodBoard","storyBoard","styleFrames"]),O),L=(g={},Object(C.a)(g,"imageCollection","Image collection"),Object(C.a)(g,"prose","Script"),Object(C.a)(g,"motion","Animation"),g),R=(P={},Object(C.a)(P,"moodBoard","Mood board"),Object(C.a)(P,"storyBoard","Story board"),Object(C.a)(P,"styleFrames","Style frames"),P),T=k.a.oneOf(I),x=k.a.oneOf(B),D=k.a.shape({id:k.a.string,name:k.a.string,type:T.isRequired,subtype:x}),F=(k.a.shape({name:k.a.string,sections:k.a.arrayOf(D)}),{overviewLink:"Overview"}),M=[{id:d()("Script"),name:"Script",type:"prose"},{id:d()("Mood board"),name:"Mood board",type:"imageCollection",subtype:"moodBoard"},{id:d()("Story board"),name:"Story board",type:"imageCollection",subtype:"storyBoard"},{id:d()("Style frames"),name:"Style frames",type:"imageCollection",subtype:"styleFrames"},{id:d()("Animation"),name:"Animation",type:"motion"}],H="404 - Page not found",J=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,H))};function _(e){var t=e.name,n=e.project,a=e.subtype,o=e.type;return r.a.createElement("div",{"data-testid":S},r.a.createElement("h1",null,n.name," - ",t),o,a&&" - ".concat(a))}function U(e){var t=e.project;return r.a.createElement("div",{"data-testid":S},r.a.createElement("h1",null,t.name),r.a.createElement("p",null,t.details))}var W=n(20),q=n(28),V=n.n(q),$=n(10),z=Object($.SortableHandle)(function(){return r.a.createElement("span",null,"::")}),G=Object($.SortableElement)(function(e){var t=e.renderItem,n=void 0===t?function(){return"feed me"}:t,a=e.value;return r.a.createElement("li",null,r.a.createElement(z,null),"string"===typeof a?a:n(a))}),K=Object($.SortableContainer)(function(e){var t=e.items,n=Object(W.a)(e,["items"]);return r.a.createElement("ul",null,t.map(function(e,t){return r.a.createElement(G,Object.assign({key:"item-".concat(t),index:t,value:e},n))}))}),Q=["Item 1","Item 2","Item 3","Item 4","Item 5","Item 6"];function X(e){var t=e.defaultItems,n=void 0===t?Q:t,o=e.onReorder,c=void 0===o?function(){return null}:o,l=Object(W.a)(e,["defaultItems","onReorder"]),m=Object(a.useState)(n),s=Object(i.a)(m,2),d=s[0],p=s[1];Object(a.useEffect)(function(){var e=V()(n,d);e.length>0&&p(Object(u.a)(d).concat(Object(u.a)(e)))});return r.a.createElement(K,Object.assign({},l,{items:d,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,a=Object($.arrayMove)(d,t,n);c(a),p(a)},useDragHandle:!0}))}var Y={newProjectSectionNameLabel:"New project section name",newProjectSectionNamePlaceholder:"Section name",saveNewProjectSectionButtonLabel:"Add new project section"},Z="type",ee="subtype",te={name:"",type:"imageCollection",subtype:"moodBoard"},ne=function(e,t){return e===t.type},ae=function(e,t){return e===t.subtype},re=function(e,t){return Object(l.a)({},e,t)};function oe(e){var t=e.saveNewSection,n=Object(a.useReducer)(re,te),o=Object(i.a)(n,2),c=o[0],u=o[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(Object(l.a)({},c,{id:d()(c.name)})),u(te)}},r.a.createElement("label",null,Y.newProjectSectionNameLabel,r.a.createElement("input",{value:c.name,onChange:function(e){var t,n=e.target;return t=n.value,u({name:t})},name:"newProjectSectionName",placeholder:Y.newProjectSectionNamePlaceholder})),r.a.createElement("ul",null,Object.entries(A).map(function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.createElement("li",{key:n},r.a.createElement("label",null,r.a.createElement("input",{checked:ne(n,c),type:"radio",name:Z,onChange:function(){return function(e){return u({type:e})}(n)},value:n}),L[n]),ne(n,c)&&Array.isArray(a)&&r.a.createElement("ul",null,a.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("label",null,r.a.createElement("input",{checked:ae(e,c),type:"radio",name:ee,onChange:function(){return function(e){return u({subtype:e})}(e)},value:n}),R[e]))})))})),r.a.createElement("button",{type:"submit"},Y.saveNewProjectSectionButtonLabel))}var ce={cancel:"Cancel",saveChanges:"Save Changes"};function le(e){var t=e.project,n=e.updateProject,o=e.toggleEditing,c=Object(a.useState)(t),m=Object(i.a)(c,2),s=m[0],d=m[1],p=s.sections;return r.a.createElement("div",null,r.a.createElement(X,{defaultItems:p,onReorder:function(e){return d(Object(l.a)({},t,{sections:e}))},renderItem:function(e){var t=e.name;return r.a.createElement("strong",null,t)}}),r.a.createElement(oe,{project:s,saveNewSection:function(e){d({id:t.id,sections:Object(u.a)(p).concat([e])})}}),r.a.createElement("button",{onClick:function(){n(s),o()}},ce.saveChanges),r.a.createElement("button",{onClick:o},ce.cancel))}var ie=Object(h.a)(function(e){return e.projects},function(e){return e.projectId},function(e,t){return e.find(function(e){return e.id===t})});function ue(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),o=n[0],c=n[1],l=ie(e),u=e.updateProject;if(!l)return r.a.createElement(J,null);var s=r.a.createElement("ul",{"data-testid":w},r.a.createElement("li",null,r.a.createElement(m.a,{to:"./"},F.overviewLink)),l.sections.map(function(e,t){var n=e.id,a=e.name;return r.a.createElement("li",{key:n},r.a.createElement(m.a,{to:n},a))}),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return c(!0)}},"Edit project sections"))),d=r.a.createElement(le,{project:l,toggleEditing:function(){return c(!1)},updateProject:u});return r.a.createElement("div",null,r.a.createElement(m.b,null,r.a.createElement(U,{default:!0,project:l}),l.sections.map(function(e,t){return r.a.createElement(_,Object.assign({key:e.id,path:e.id,project:l},e))})),o?d:s)}ue.defaultProps={updateProject:function(){return null}};var me="abce".split("").map(function(e){return{id:"project-".concat(e),name:"Project ".concat(e.toUpperCase()),details:"Details about project ".concat(e.toUpperCase()),sections:M}}),se=(n(118),function(){return r.a.createElement("div",null,"Home")});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var de=document.getElementById("root");c.a.render(r.a.createElement(function(e){var t=e.defaultProjects,n=void 0===t?me:t,o=Object(a.useState)(n),c=Object(i.a)(o,2),u=c[0],s=c[1];return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,"Anni Project Manager Application",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.a,{to:p("/")},"Home")),r.a.createElement("li",null,r.a.createElement(m.a,{to:p("dashboard")},"Dashboard")))),r.a.createElement(m.b,null,r.a.createElement(se,{path:p("/")}),r.a.createElement(y,{path:p("dashboard"),projects:u,setProjects:s}),r.a.createElement(ue,{path:p(":projectId/*"),projects:u,updateProject:function(e){s(u.map(function(t){return t.id===e.id?Object(l.a)({},t,e):t}))}}),r.a.createElement(J,{default:!0})))},null),de),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},29:function(e,t,n){e.exports=n(120)},34:function(e,t,n){}},[[29,2,1]]]);
//# sourceMappingURL=main.25132608.chunk.js.map